<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Item</title>
    <meta name="keywords" content="HTML,CSS,Java Script, Pos System,malshi">
    <meta name="description" content="Pos System details and my Pos System website.">
    <meta name="revised" content="Login page, 01/08/2023">
    <meta name="author" content="Malshi Sathsarani">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <link rel="stylesheet" href="assets/styles/normalize.css">
    <link rel="stylesheet" href="assets/styles/stylesForItem.css">
    <link rel="stylesheet" href="assets/lib/fontawesome/css/all.min.css">
    <script src="assets/lib/fontawesome/js/all.min.js"></script>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
</head>
<body>
<div class="dashboard-nav">
    <header>
        <a href="#" class="brand-logo"><span>POS SYSTEM</span></a>
    </header>
    <nav class="dashboard-nav-list">
        <a href="dashboard.html" class="dashboard-nav-item"><i class="fas fa-home"></i>Home </a>
        <a href="customer.html" class="dashboard-nav-item"><i class="fas fa-user"></i> Customer </a>
        <a href="Item.html" class="dashboard-nav-item"><i class="fas fa-cogs"></i> Item </a>
        <a href="order.html" class="dashboard-nav-item"><i class="fas fa-cogs"></i> Order </a>
        <div class="nav-item-divider"></div>
        <a href="index.html" class="dashboard-nav-item"><i class="fas fa-sign-out-alt"></i> Logout </a>
    </nav>
</div>
    <div class="container">
        <div class="row">
            <div class="col">
                <h1 class="title">Item Details</h1>
            </div>
        </div>
        <div class="row">
            <div class="col col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12" id="data">
                <form>
                    <div class="mb-3">
                        <input class="form-control-input" id="item_code" type="text" required>
                        <label for="item_code" class="form-label">Code</label>
                    </div>
                    <div class="mb-3">
                        <input id="description" class="form-control-input" type="text" required>
                        <label class="form-label" for="description">Description</label>
                    </div>
                    <div class="mb-3">
                        <input id="price" class="form-control-input" type="number" required>
                        <label class="form-label" for="price">Price</label>
                    </div>
                    <div class="mb-3">
                        <input id="item_qty" class="form-control-input" type="number" required>
                        <label class="form-label" for="item_qty">Qty</label>
                    </div>
                    <div class="mt-4 mb-5">
                        <button id="submit" type="button" class="btn btn-success">Save</button>
                        <button id="update" type="button" class="btn btn-primary">Update</button>
                        <button id="delete" type="button" class="btn btn-danger">Delete</button>
                        <button id="reset" type="reset" class="btn btn-warning">Clear</button>
                    </div>
                </form>
            </div>
            <div class="col col-xl-6 col-lg-6  col-md-6 col-sm-12 col-12" id="tabel">
                <table class="table mt-5" border="5px">
                    <thead>
                    <tr>
                        <th scope="col">Id</th>
                        <th scope="col">Description</th>
                        <th scope="col">Unit Price</th>
                        <th scope="col">Qty</th>
                    </tr>
                    </thead>
                    <tbody id="item_table-body">
                    </tbody>
                </table>
            </div>
        </div>
    </div>
<script src="assets/lib/jquery.min.js"></script>
<script>

    $('#submit').on('click',()=>{
        let item_code = $('#item_code').val();
        let description = $('#description').val();
        let price  = $('#price').val();
        let item_qty = $('#item_qty').val();

        let recode = `<td class = "item_code">${item_code}</td><td class="description">${description}</td><td class="price">${price}</td><td class="item_qty">${item_qty}</td>`

        let newRow = $('<tr>');
        newRow.append('<td>' + item_code + '</td>');
        newRow.append('<td>' + description + '</td>');
        newRow.append('<td>' + price + '</td>');
        newRow.append('<td>' + item_qty + '</td>');

        $('#item_table-body').append(newRow);

        $("#reset").click();
    });

    $('#update').on('click',()=>{
        let item_code = $('#item_code').val();
        let description = $('#description').val();
        let price  = $('#price').val();
        let item_qty = $('#item_qty').val();

        let recode = `<td class = "item_code">${item_code}</td><td class="description">${description}</td><td class="price">${price}</td><td class="item_qty">${item_qty}</td>`

        $("tbody>tr").eq(row_index).html(recode);

        $("#reset").click();
    });

    $('#delete').on('click',()=>{
        $("tbody>tr").eq(row_index).remove();

        $("#reset").click();
    });

    $("tbody").on("click", "tr", function () {

        row_index = $(this).index();

        let item_code = $(this).find("td:eq(0)").text();
        let description = $(this).find("td:eq(1)").text();
        let price = $(this).find("td:eq(2)").text();
        let item_qty = $(this).find("td:eq(3)").text();

        $('#item_code').val(item_code);
        $('#description').val(description);
        $('#price').val(price);
        $('#item_qty').val(item_qty);
    });

</script>
</body>
</html>